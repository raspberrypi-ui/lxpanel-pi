diff --git a/plugins/cpufreq/cpufreq.c b/plugins/cpufreq/cpufreq.c
index 05f41e0..4d915af 100644
--- a/plugins/cpufreq/cpufreq.c
+++ b/plugins/cpufreq/cpufreq.c
@@ -45,6 +45,7 @@
 
 typedef struct {
     GtkWidget *main;
+    LXPanel *panel;                 /* Back pointer to panel */
     config_setting_t *settings;
     GList *governors;
     GList *cpus;
@@ -347,6 +348,7 @@ static GtkWidget *cpufreq_constructor(LXPanel *panel, config_setting_t *settings
     cf->governors = NULL;
     cf->cpus = NULL;
     cf->settings = settings;
+    cf->panel = panel;
 
     cf->main = lxpanel_button_new_for_icon(panel, PROC_ICON, NULL, NULL);
     lxpanel_plugin_set_data(cf->main, cf, cpufreq_destructor);
@@ -394,6 +396,14 @@ cpufreq_destructor(gpointer user_data)
 }
 
 
+/* Handler for system config changed message from panel */
+static void cpufreq_reconfig (LXPanel *panel, GtkWidget *widget)
+{
+    cpufreq *cf = lxpanel_plugin_get_data (widget);
+
+    lxpanel_plugin_set_taskbar_icon (cf->panel, gtk_button_get_image (GTK_BUTTON (widget)), PROC_ICON);
+}
+
 FM_DEFINE_MODULE(lxpanel_gtk, cpufreq)
 
 /* Plugin descriptor. */
@@ -403,5 +413,6 @@ LXPanelPluginInit fm_module_init_lxpanel_gtk = {
 
     .new_instance = cpufreq_constructor,
     //.config      = config,
-    .button_press_event = clicked
+    .button_press_event = clicked,
+    .reconfigure = cpufreq_reconfig
 };
diff --git a/plugins/dirmenu.c b/plugins/dirmenu.c
index f5d3351..386900c 100644
--- a/plugins/dirmenu.c
+++ b/plugins/dirmenu.c
@@ -361,7 +361,7 @@ static gboolean dirmenu_apply_configuration(gpointer user_data)
     config_group_set_string(dm->settings, "name", dm->name);
     config_group_set_string(dm->settings, "image", dm->image);
 
-    lxpanel_button_set_icon(p, ((dm->image != NULL) ? dm->image : "file-manager"), -1);
+    lxpanel_plugin_set_taskbar_icon (dm->panel, p, (dm->image != NULL) ? dm->image : "file-manager");
     lxpanel_button_set_label(p, dm->name);
 
     gtk_widget_set_tooltip_text(p, dm->path);
@@ -380,6 +380,14 @@ static GtkWidget *dirmenu_configure(LXPanel *panel, GtkWidget *p)
         NULL);
 }
 
+/* Handler for system config changed message from panel */
+static void dirmenu_reconfig (LXPanel *panel, GtkWidget *widget)
+{
+    DirMenuPlugin *dm = lxpanel_plugin_get_data (widget);
+
+    lxpanel_plugin_set_taskbar_icon (dm->panel, gtk_button_get_image (GTK_BUTTON (widget)), (dm->image != NULL) ? dm->image : "file-manager");
+}
+
 /* Plugin descriptor. */
 LXPanelPluginInit lxpanel_static_plugin_dirmenu = {
     .name = N_("Directory Menu"),
@@ -387,5 +395,6 @@ LXPanelPluginInit lxpanel_static_plugin_dirmenu = {
 
     .new_instance = dirmenu_constructor,
     .config = dirmenu_configure,
-    .button_press_event = dirmenu_button_press_event
+    .button_press_event = dirmenu_button_press_event,
+    .reconfigure = dirmenu_reconfig
 };
diff --git a/plugins/wincmd.c b/plugins/wincmd.c
index 9b4ae48..15e8a0a 100644
--- a/plugins/wincmd.c
+++ b/plugins/wincmd.c
@@ -41,6 +41,7 @@ typedef enum {
 
 /* Private context for window command plugin. */
 typedef struct {
+    LXPanel *panel;                 /* Back pointer to panel */
     config_setting_t *settings;			/* Settings array */
     char * image;				/* Main icon */
     WindowCommand button_1_command;		/* Command for mouse button 1 */
@@ -200,6 +201,7 @@ static GtkWidget *wincmd_constructor(LXPanel *panel, config_setting_t *settings)
 
     /* Save construction pointers */
     wc->settings = settings;
+    wc->panel = panel;
 
     /* Allocate top level widget and set into Plugin widget pointer. */
     p = lxpanel_button_new_for_icon(panel, wc->image, NULL, NULL);
@@ -249,6 +251,13 @@ static GtkWidget *wincmd_configure(LXPanel *panel, GtkWidget *p)
         NULL);
 }
 
+/* Handler for system config changed message from panel */
+static void wincmd_reconfig (LXPanel *panel, GtkWidget *widget)
+{
+    WinCmdPlugin *wc = lxpanel_plugin_get_data (widget);
+
+    lxpanel_plugin_set_taskbar_icon (wc->panel, gtk_button_get_image (GTK_BUTTON (widget)), (wc->image != NULL) ? wc->image : "window-manager");
+}
 
 /* Plugin descriptor. */
 LXPanelPluginInit lxpanel_static_plugin_wincmd = {
@@ -257,5 +266,6 @@ LXPanelPluginInit lxpanel_static_plugin_wincmd = {
 
     .new_instance = wincmd_constructor,
     .config = wincmd_configure,
-    .button_press_event = wincmd_button_clicked
+    .button_press_event = wincmd_button_clicked,
+    .reconfigure = wincmd_reconfig
 };
diff --git a/src/misc.c b/src/misc.c
index 1fbf436..ca38979 100644
--- a/src/misc.c
+++ b/src/misc.c
@@ -1422,9 +1422,16 @@ GtkWidget *lxpanel_button_new_for_icon(LXPanel *panel, const gchar *name, GdkRGB
 GtkWidget *lxpanel_button_new_for_icon(LXPanel *panel, const gchar *name, GdkColor *color, const gchar *label)
 #endif
 {
-    gulong highlight_color = color ? gcolor2rgb24(color) : PANEL_ICON_HIGHLIGHT;
-    return _lxpanel_button_new_for_icon(panel, fm_icon_from_name(name), -1,
-                                        highlight_color, label);
+    GtkWidget *icon, *button;
+
+    icon = gtk_image_new ();
+    lxpanel_plugin_set_taskbar_icon (panel, icon, name);
+
+    button = gtk_button_new ();
+    gtk_button_set_image (GTK_BUTTON (button), icon);
+    gtk_button_set_relief (GTK_BUTTON (button), GTK_RELIEF_NONE);
+
+    return button;
 }
 
 #if GTK_CHECK_VERSION(3, 0, 0)
